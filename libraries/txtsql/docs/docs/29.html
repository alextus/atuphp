<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
	<title>txtSQL Documentation</title>
	<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
	<link rel="stylesheet" type="text/css" href="./includes/style.css" />
	<script src="./includes/javascript.js"></script>
</head>
<body>

<table width="96%" cellspacing="0" cellpadding="9" border="0" align="center" class="mainTable">
	<tr>
		<td class="header" colspan="2">
			<table cellspacing="0" cellpadding="0" border="0" width="100%">
				<tr>
					<td align="left">
						<a href="index.html">Home</a>
						&nbsp; &nbsp;<a href="javascript:history.back()">Back</a>
						&nbsp; &nbsp;<a href="javascript:history.forward()">Forward</a>
						&nbsp; &nbsp;<a href="javascript:location.reload()">Refresh</a>
						&nbsp; &nbsp;<a href="http://chibiguy.dotgeek.org/index.php">txtSQL Homepage</a>
					</td>
					<td align="right">
						<a href="http://chibiguy.dotgeek.org/index.php" target="_blank"><img src="includes/txtsql_powered_small.gif" /></a>
					</td>
				</tr>
			</table>
		</td>
	</tr>
	<tr valign="top">
		<td class="mainCell">
			<div class="dashedUnderline"><a href="index.html">txtSQL Documentation</a> > <a  href="4.html">Data Manipulation Functions</a> > select</div><br />

			<table width="100%">
				<tr valign="bottom">
					<td align="left">
						<div class="h1">select <div style="font-size: 10px;">Purpose: To select data from a txtSQL table</div></div>
					</td>
					<td align="right">
						txtSQL >= 2.2.2 RC2					</td>
				</tr>
			</table>

			<div class="syntax">mixed select ( array( 'table' => $table [, 'select' => $selectCols[, 'db' => $db [, 'where' => $where [, 'limit' => $limit [, 'orderby' => $orderb[, $distinct = $column]]]]] ) )</div><br />

			<div class="content">
				This function will retrieve data that matches the $where clause; if no <i>$where</i> clause is given, all rows match, and thus will be returned. If <i>$selectCols</i> is specified, then txtSQL will only select those columns. <i>$selectCols</i> should be an array with the following structure<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;array ( col1, col2 ... )

<br /><br />The search will look inside the selected database if no <i>$db</i> is defined, and will return rows according to the <i><a href="index.php?f=10">limit clause</a></i>. If <i>$orderby</i> is specified, then the results will be sorted according to the <i><a  href="11.html">orderby clause</a></i>. If <i>$distinct</i> is set to <i>TRUE</i>, then the any repeated values for that <i>$column</i> will be deleted.<br /><br />

<b>Important</b>- To achieve the same results as this function before txtSQL 2.2.2 RC2, use the <i><a  href="33.html">execute()</a></i> function<br />
<b>Note</b>- The DISTINCT feature was added in txtSQL 2.2 Final release<br />
<b>Note</b>- For more information on defining a where clause, see the <a  href="8.html"><i>'where clause'</i></a> section, or for defining a limit clause, see <i>
<a  href="10.html">how to create a limit clause</i></a> section<br />
<b>Note</b>- If no database is selected, and no <i>$db</i> is given, txtSQL will issue an error			</div><br /><br />

			
						<table width="100%" cellspacing="0" cellpadding="0">
				<tr>
					<td align="left">
						<b>Example 15: select()</b>
					</td>
					<td align="right">
						<a href="javascript: ClipBoard(copytext1)">Copy to clipboard</a>
					</td>
				</tr>
			</table>
			<table width="100%" cellspacing="0" cellpadding="3" class="examples">
				<tr>
					<td id="copytext1">
						<code><font color="#000000">
<font color="#0000BB">&lt;?php <br />$data </font><font color="#007700">= </font><font color="#0000BB">$sql</font><font color="#007700">-&gt;</font><font color="#0000BB">select</font><font color="#007700">(array( <br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#DD0000">'db'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#007700">=&gt; </font><font color="#DD0000">'testDB'</font><font color="#007700">, <br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#DD0000">'table'&nbsp;&nbsp;&nbsp;</font><font color="#007700">=&gt; </font><font color="#DD0000">'testTable'</font><font color="#007700">, <br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#DD0000">'where'&nbsp;&nbsp;&nbsp;</font><font color="#007700">=&gt; array(</font><font color="#DD0000">'strtolower(somecolumn) = value'</font><font color="#007700">), <br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#DD0000">'limit'&nbsp;&nbsp;&nbsp;</font><font color="#007700">=&gt; array(</font><font color="#0000BB">10</font><font color="#007700">, </font><font color="#0000BB">19</font><font color="#007700">), <br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#DD0000">'orderby' </font><font color="#007700">=&gt; array(</font><font color="#DD0000">'id'</font><font color="#007700">, </font><font color="#DD0000">'ASC'</font><font color="#007700">) <br />&nbsp;&nbsp;&nbsp;&nbsp;)); <br /><br />foreach ( </font><font color="#0000BB">$data </font><font color="#007700">as </font><font color="#0000BB">$key </font><font color="#007700">=&gt; </font><font color="#0000BB">$row </font><font color="#007700">) <br />{ <br />&nbsp;&nbsp;&nbsp;&nbsp;print </font><font color="#DD0000">'Row '</font><font color="#007700">.</font><font color="#0000BB">$key</font><font color="#007700">.</font><font color="#DD0000">': '</font><font color="#007700">.</font><font color="#0000BB">print_r</font><font color="#007700">(</font><font color="#0000BB">$row</font><font color="#007700">,</font><font color="#0000BB">1</font><font color="#007700">).</font><font color="#DD0000">"&lt;br&gt;\n"</font><font color="#007700">; <br />} <br /></font><font color="#0000BB">?&gt;</font>
</font>
</code>					</td>
				</tr>
			</table><br /><br />

			<TEXTAREA ID="holdtext" STYLE="display: none;"></TEXTAREA>			
			<table class="commentTable">
				<tr>
					<td style="border: 0px solid; margin: 0px; padding: 0px;">
						<table width="100%">
							<tr>
								<td style="border:0px solid;">
									<div class="h1">User Comments - select</div>
								</td>
								<td align="right" style="border: 0px solid; padding: 0px; margin: 0px;">
									
								</td>
							</tr>
						</table>
					</td>
				</tr>
				<tr>
					<td class="row1">
						<div class="commentInfo">
						<b>FarazAli</b> &lt;FarazAli at gmail dot com&gt;<br />
						<div class="small">March 3, 2005, 10:03 pm</div>
						</div>
						
						<code>Please post questions at the forums (http://chibiguy.dotgeek.org)!<br />
<br />
---<br />
<br />
Just place the $sql-&gt;select() part inside of count() and you should be left with a count of how many records were returned<br />
<br />
$data = count($sql-&gt;select(array( <br />
    'db'      =&gt; 'testDB', <br />
    'table'   =&gt; 'testTable', <br />
    'where'   =&gt; array('strtolower(somecolumn) = value'), <br />
    'limit'   =&gt; array(10, 19), <br />
    'orderby' =&gt; array('id', 'ASC') <br />
    )));
</code>
					</td>
				</tr>
				<tr>
					<td class="row1">
						<div class="commentInfo">
						<b>baKer</b> &lt;baker_ax at hotmail dot com&gt;<br />
						<div class="small">March 3, 2005, 9:30 pm</div>
						</div>
						
						<code>How can I get the count of the returned recordset? Thanks.
</code>
					</td>
				</tr>
				<tr>
					<td class="row1">
						<div class="commentInfo">
						<b>Envel</b> &lt;quasiyodel at gmail dot com&gt;<br />
						<div class="small">February 10, 2005, 6:42 pm</div>
						</div>
						
						<code>If you don't want to use a foreach() loop, you can see how txtSQL returns the values of arrays by executing a select statement:<br />
<br />
$variable = $sql-&gt;select(array(<br />
    'table'  =&gt; 'data',<br />
    'db'     =&gt; 'testDB'<br />
));<br />
<br />
Then perform a variable dump with the code:<br />
<br />
var_dump($variable);<br />
<br />
for more info on how to read the output of this, go to the php-manual page:<br />
http://php.net/var_dump<br />
<br />

</code>
					</td>
				</tr>
				<tr>
					<td class="row1">
						<div class="commentInfo">
						<b>FarazAli</b> &lt;Faraz87 at comcast dot net&gt;<br />
						<div class="small">July 30, 2004, 11:19 pm</div>
						</div>
						
						<code>You can specify what columns you want to select by adding something like<br />
<br />
'select' =&gt; array('column', 'column2' ...)<br />
<br />
to the array.<br />
<br />
Example:<br />
$sql-&gt;select(array(<br />
    'select' =&gt; array('id', 'name'),<br />
    'table'  =&gt; 'data',<br />
    'db'     =&gt; 'testDB'<br />
));
</code>
					</td>
				</tr>
			</table>
		</td>

		<td class="sideCell">
		
			<table width="100%" cellspacing="0" cellpadding="0" border="0" class="dashedUnderline">
				<tr>
					<td align="left">
						<a  href="28.html">Last Page</a>					</td>
					<td align="right">
						<a  href="30.html">Next Page</a>					</td>
				</tr>
			</table><br />

			
			<a style="font-weight: bold;"  href="1.html">'Language Reference'</a></b><br />
			<br />

			<a style="font-weight: bold;"  href="13.html">User Functions</a></b><br />
			<br />

			<a style="font-weight: bold;"  href="19.html">Database Functions</a></b><br />
			<br />

			<a style="font-weight: bold;"  href="28.html">Data Manipulation Functions</a></b><br />
			<li /> <i>select</i><br />
			<li /> <a  href="30.html">insert</a><br />
			<li /> <a  href="31.html">update</a><br />
			<li /> <a  href="32.html">delete</a><br />
			<li /> <a  href="33.html">execute</a><br />
			<br />

			<a style="font-weight: bold;"  href="34.html">Table Functions</a></b><br />
			<br />

			<a style="font-weight: bold;"  href="42.html">Error Handling Functions</a></b><br />
			<br />

			<a style="font-weight: bold;"  href="52.html">SQL Syntax</a></b><br />
			<br />

		</td>
	</tr>
	<tr>
		<td colspan="2" class="notices" align="center">
			[ txtSQL Documentation powered by <a href="http://chibiguy.dotgeek.org" target="_blank">txtSQL</a> | 6 SQL Queries ]
		</td>
	</tr>
</table>

</body>
</html>