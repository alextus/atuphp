<?php
class ATU_Captcha
{
        var $strArr = array("iVBORw0KGgoAAAANSUhEUgAAAGQAAAAoCAMAAAA/pq9xAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjhGOEZGMzU4MUIxRDExRTk4NTU5RTJFRjZFNEM4MUVDIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjhGOEZGMzU5MUIxRDExRTk4NTU5RTJFRjZFNEM4MUVDIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6OEY4RkYzNTYxQjFEMTFFOTg1NTlFMkVGNkU0QzgxRUMiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6OEY4RkYzNTcxQjFEMTFFOTg1NTlFMkVGNkU0QzgxRUMiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4xUGc6AAADAFBMVEUBIJrF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aLplITphCMuSEXmIwCaFpjN2caGqkuS61Wq/P59XKrkcSscbM47kkBXF5+d6fTaDmOPk8/3+dIrrnsdfEJBNZBsMTEZE04LggsjnNW1vLx4tQNPa7fF4OsWGhBHY6wUBLIRJ8YbMjxhgOHwkplMcHPi/IbncKKLRSETkbwEGAGgl6vNzvYvsAAAAAElFTkSuQmCC", "iVBORw0KGgoAAAANSUhEUgAAAGQAAAAoCAMAAAA/pq9xAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjg4RTA5NkQ0MUIxRDExRTk4NkQ2Q0UzQkExOUNFNDhEIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjg4RTA5NkQ1MUIxRDExRTk4NkQ2Q0UzQkExOUNFNDhEIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6ODhFMDk2RDIxQjFEMTFFOTg2RDZDRTNCQTE5Q0U0OEQiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6ODhFMDk2RDMxQjFEMTFFOTg2RDZDRTNCQTE5Q0U0OEQiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4wGrHuAAADAFBMVEVDAACxZm+4UEflYh7eLwjr1HTow0jotjHm0Gn52m7ECgPnvEHnxGvihy7mtUKrBAHijBjnu2rt3rvp0qDoy8XszKbnoyHorULnxljotnLozpbJUhDfegzpxrXnokXlnCDnurHmvafpxJp+AgDt3q20Ug7nvkrmq23okxrhkUnpzXzmt0ngbQ/ytDDnsrLmrTHu167s26bmjBnuw0rov1PWMQPnvoqfNhPoy13gki7NlY3ntZzv1oSKKQfeZQ3kgUVuAAL5xUPo39ffgCLnxXngqKrmtTnnrVHnl3Pin1fnggnmtVvdXAft3JjgdEPr2LbhraTFLQfnpDL812DEeDHsrDblqiJaGAzvvDnnvWTdkhruvUDoz4fhnifltYLu1YvtxVjilFzovTunYyf656zgjG/5zUjnynKUFwXozWPmlSf1347txlLmZEvUPSOeHgHnqYfmpSnp1nru3sjnnSm9Zxn45J3q0Lrp1cnthyaFNDTODwPbPwLmmTTmrDrudBFQDwLuvEziby/rw4S0NglpGQbknEvmjCLhnjj23IfbXjPjnIHjgk/mu5TttzvmlSDowXTrwFfr16a7Pw7uz4TszpradQ/v5tvpxVPuzmLfhBDnrlzPdmLpqnndgi7nxK3txG730FTbYCL3wDjqhhu2EQHnxWXhnCLs2ZL945SMCgHotVHt3bb76aPsxmTmkzfuznHntIu0OyPotGTtpCnqqk/erTXik0j62WrZKQXtwZHilmPuzmvcTBPmfBju1n3STCDwkiB2BA3mpzrzv4zkpWS+GgP3rjTt0HrxnCHnq0rem5D5x0zoaw/lt634tTjXRRLt15yUHxmaTRrs3Nfpxqbpe2Hdjjz70GLgjB7szKulFALs3c7wjCL2nijgmnWqbjvmr2Tmvqvzv2rtzFrSIQBuCwfRbRJiBwDmrSvpk0/0pB/slSb2vELvzYv9wFXhqSjkdFTeghvecxDrz7jggyv/4Yftx3b/01OLMhrovVnsxn3utEb/15/shw3bcR6EW6ILAAADKklEQVR42sTWT0jbUBzAcUHGDi1htbBgEb2UUhul6+jFi2VQUkYHg4BgoNIWBoW6S2F4U5keplDWRlpY6aUwESWSCdOTg1KKIKMwctPLYHeXmxQSwb1fXpp/rWOnt8+15X3LL+l7b2xzc3+/0/mJzBt+u/wwfTb1eo1Gu3109MZhbW11dXe33b666vVe2IwRiSwuzs1NTV1fF4vvEE63YVoyRG1YJB73eiMRWY7FgqZYTJYPDzOZQkGSQiGP56OJTOQVcn9/e/sFmUbw4tG/YFmKEoRIJJuNxY6PJ2xiSDZ7eQkR1rS8TCYyPr61lUjMzr40pJDvSFc3KkJRDCNJmYwsB4MTLhA5OREEj4e1IRNJJMrlfP7i4pehqUulaLrb5Qx4cet1EMVWS1HgscPALMGgLNdqkhSPs+xjGzKRfP78HCd4/qup2YSBcdzKSsnUNTEMz2saZPb2npngFZblQkFVGcY5YDIRnPA5QAYGxnEzupLDxgZNq6rXm0wqSgCp12WDomgazzMMy/6PSD4Pg/I68Hw6LYoQga2mNCQapel0mudbraQhg2hatQqJpSWOc36fTKRcbjYPhogIbC6lB0CGpkVRVXnT4IetDCETSSRE8eBAshEQhqEo93YynBr8ORkEojgwY6iYyEQ47u4upIvr3iMeHd7cRm2Ro0eIR+MOVCrhMJnI/Ly1JVM2+OC0PnOHTk+t5Z/aWI8bAk90ZCL2hdwhimKH2EP4seOXeWBw4MHfuFJ5riMTGbXQv4FjWEV8PthYtg3Vqs+XTqdScFAUiyQjziN/eKGHhscw8ThskZpWq9WRPcSPKEoyCZmzs253fZ1kBC6UD3Em7C81RcGg+v1MJhCAC4V1CNfrOAMH+M5OOKy/woQi2CcHwcDoqBFUtdWq1QIBGNPgSgQRvz8Q2N6enMQRc1xEInhZaYRcDrZM+Anu4cGlqN9XFPzAX+vwuKzI9PTCAgyr0yETeYt8Q05ccAY+Hbwa7gePx+X32y948OCtxLXu5oZMJJeTpEc2tdqlDkKNRk6HM86tPxQSBPgrwmWobqNpcDHc2SkWYVQfEEKRPwIMAGDb20xiDZTnAAAAAElFTkSuQmCC", "iVBORw0KGgoAAAANSUhEUgAAAGQAAAAoCAMAAAA/pq9xAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjgyNTQ2MTc5MUIxRDExRTlBQ0RBQjNBOUY2MzZDMEYxIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjgyNTQ2MTdBMUIxRDExRTlBQ0RBQjNBOUY2MzZDMEYxIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6ODI1NDYxNzcxQjFEMTFFOUFDREFCM0E5RjYzNkMwRjEiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6ODI1NDYxNzgxQjFEMTFFOUFDREFCM0E5RjYzNkMwRjEiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7HqELpAAADAFBMVEUHgxkfmZcXo3EQl1RHrpQqvd0HkDhJu+UwodU4lnkqmbxHrNwvo1YdqaMRlCTK6exRrb4ylXEepFQ6nYWq4+cgnjo3oadRxNh/z+ozmZlOtqMKiQxKp4MhlFoxnYUPkzIcmYsgpmMYtq0+qr48rXJpwJtN0vQzmWpd1uFUysUgm0gZnDo4tuEsu9AZjRcbrJQjk2Esq3Ewr5kivMQ7pnk9t6opoKk6sYQflzEcj2Yglh8rq4MqpmMhr3IJhCEntKggr4UOjCoxrmpvy65aq4c9y+FzwesJj0RJrKhSrsgzmWZw0O8hnEEqplBAu9Iik3dPstgnwuZfxsSf2dcRmksntsJ2xtwuo3Upq5hEqtAwq6NCrHiV3+1o2+wqpUkmm2MFiyAMkydoue5CpHdTtrc4pYlBw7phsNAPgx89rLg7pJVAqZUglIMapWlJrIsZpZdYsdyQ2LMZnFAtt7Qlq8GO3944mmstzvg0rWBAu7YPmmZAyvMxpYUZiyEZkj0sn7E6m3gqjGQvrYcfnFIorGYemSkWo7AxuNYmo0EZlzJfv6sorXsYl0IhpnginDBArqxjzO8esJ4qploZqVwPooNwy88ooTg8rmsspHovvb8erI4Yo3kuxtmS+v87rIw8tMFJubEanEtApoR3yqsalSohs7cRkzwgp2wwrFxKpXdOrrU9vN8QiyFJrXs7t5oYnWRPu7ldz9RAn4aP0uUjpEoptpsPlUxbvuYOgxxcrYnr8/0rq0smpjM/o5sQm1tRs8galCAzuKkurLA9yNFMtbtrwdhDnHpVpoUgp5kyo6UyrL4YnEQEhCgupI0uyN8vpJZs5vk8rHsvs5cypmIut78hra1SrYE7vqyz3/RJy88wpmwonVVLqZxMuN48p2szrdNEs88zsHodr3p809MZpIhjxuonmJUQjBogpVkoxuoqrY4ip4cppGxivMIGjTQsn8YglGs0s4ZQuuApkmQ2ttmI2/YktapCpaczmnoZjSciqpQ+wMZSqKpNyLYXnFkRk0Ls4IfIAAAD4UlEQVR42szWT2jabhgHcEmoN3MoyA49BHtadFO6UlZq68xBcpiMbUQog4FehoeJkP52WGQ7bPQgjQOZl5EdJjTx0LJcWukp6E5jZj2Myc4bATsjvU2wBf29T/5M7brud8pvn1MI8fnC8z7v++rZ21tb+/bN719Blpc3bY3GypTGf0ZM2LV5XAl5+XJ9/fR0ba2IBIMckkwWi07YysrA9uQPdi/gToiuz84Gg0nT3l61+uYNRfV6glC0xeOHh5FIJhMOO+XCpotDOjY3Q4LBzc0XL/zI8+eBAIZFowsL1WrIdHS0tSWK8XguVyw6xc+Whze/Nmgywq2Qra1Pn1ZXQyEICgZbreKEUimRODkhSXhuISTZ6YTPGJe6YOFdCfnyJZGIRlutZSSZHG9HUCwKwmDQaLDI9nYoxHE5hONkmWV1XVGmF3m6Re6H+P0wvP5zwKYEudwMIoqDQafDsv3+58+KgmGLi5EItA/e/j4ka3InZPlcgtDrLS0tLBAEx5VsilKv07TToouXOms7MLkTwnHWEQ2lt5FxUDIZCjmjGwoJAsti2HCI44ahKL9vUXaKmyG6qVy+ejWVGg4JYvuMp08JYnWVot6+5fmNjfn5SESSdF2W/9QoJ8C9EEn6bpKkeFyWCcK5pKwIa4gFoYqwrKryvCjyJpYlSSg6Nwdlfm3RJHdCUqlE4vAwn4drKRwenOEclTRNkrIsCCMby+IIw+B4rVavn7fY7odg2P7+6WmtRprgKPQi8AxXEm2CAAdpU9UKIkmplKpOtuvg4P8KKZdv3HjwoNtVTKJoGM+eBQKcCTfBkYLjkyGK0m7fuQPjMjOj6+m0xxP7abq89c6dkPl5DKtWZ5FcTkTu3n306Pr14U/lcqHw6pXXC02zMAwc9aoKjeX5fr9cpunJklONsrgS0m5HkJOTe/eazX7f59N1DFMUKK8o3S5F7e9XKhgGbRuNIMJqWiYDv52bo2n4cnf3bwi5dOn+/UTiypVCYWen2x0Oq1VBcBa5Vnv8OBplGK+3XlcUXRdFVZXlYwTGHIbbKpPN0nQsNh7jNGKFuhvy48fNm7dutds8bw1uqwXHYasFf1Rl2euVZcNYXx+NMhkcz+c3EFHM51+/liSGgeG1GpNOW82CA3M80G6GvHv34cPt280mhh0hAQQ25XAYCHz92uvB5avrOzuFwuIiz0OTDKPZVBRVhevL6x1vQ02rVN6/l2VNY5hYLJ3m+YcPj4/dDPkHuXyZoj5+LJUMw+drI4YhiteuUdTSEhw0MOQ8r+s+nyiy7LEpbRu3RdPqiKaVSt2upnk8KuJ85UrIvwIMAJqS+J5j6YH2AAAAAElFTkSuQmCC", "iVBORw0KGgoAAAANSUhEUgAAAGQAAAAoCAMAAAA/pq9xAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjc4RkFBMDlFMUIxRDExRTlBRDBBRTQxNzA3NTI1QkE0IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjc4RkFBMDlGMUIxRDExRTlBRDBBRTQxNzA3NTI1QkE0Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NzhGQUEwOUMxQjFEMTFFOUFEMEFFNDE3MDc1MjVCQTQiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NzhGQUEwOUQxQjFEMTFFOUFEMEFFNDE3MDc1MjVCQTQiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz48Bzf/AAADAFBMVEUjMg1a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");

        function __construct()
        {
                session_start();
        }


        public function ini($type = 1, $w = 145, $h = 20)
        {
                $verifyCode = $this->random(4);
                $_SESSION['yan'] = $verifyCode;
                header("content-type: image/png");

                $rn = rand(0, 3);
                $im = imagecreate($w, $h);
                $black = imagecolorallocate($im, 0, 0, 0);
                $white = imagecolorallocate($im, 255, 255, 255);
                $dx = intval(($w - 45) * 0.5);
                $dy = intval(($h - 8) * 0.5);
               

                if ($type == 1) {
                    $color = $rn == 1 ? $black : $white;
                    $img_bg = imagecreatefromstring(base64_decode($this->strArr[$rn]));
                    imagecopyresampled($im, $img_bg, 0, 0, 0, 0, $w, $h, 100, 20);
                }else{
                    $color = $black;
                    imagefill($im, 0, 0, $white);
                }

                for ($i = 0; $i < strlen($verifyCode); $i++) {
                    imagestring($im, $dy, 13 * $i +  $dx, 1, substr($verifyCode, $i, 1), $color);
                }
                // imagettftext($im, 40, 0, 40, 50, $black, "application/helpers/arial.ttf", $verifyCode);

                if ($type == 2) {
                        for ($i = 0; $i < $w; $i++) {
                            $randcolor = ImageColorallocate($im, rand(0, 255), rand(0, 255), rand(0, 255));
                            imagesetpixel($im, rand() % ($w + 20), rand() % ($h + 20), $randcolor);
                        }
                }

                imagepng($im);
                imagedestroy($im);
        }

        public function getCode()
        {

                return $_SESSION['yan'];
        }
        private function random($length = 4, $isNum = false)
        {
                if ($isNum) {
                        return rand(1000, 9999);
                }
                $hash = '';
                $chars = '123456789aextuch';
                $max = strlen($chars) - 1;

                for ($i = 0; $i < $length; $i++) {
                        $hash .= $chars[rand(0, $max)];
                }
                return $hash;
        }
}
